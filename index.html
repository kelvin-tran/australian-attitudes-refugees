<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Electoral maps</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-64459548-1', 'auto');
      ga('send', 'pageview');
    </script>
    <style>
    body {
      background: #fcfcfa;
    }
    svg { fill: black; }
    .path {
      fill: none;
      stroke-width: 1.5;
      stroke-dasharray: 3,6;
      stroke: white;
    }
    .graticule {
      fill: none;
      stroke: #777;
    }
    .land-boundary {
      fill: #ccc;
      fill-opacity: 0.8;
      stroke: black;
      stroke-width: 1;
    }
    .div-boundary {
      fill: none;
      fill-opacity: 0.8;
      stroke: black;
      stroke-width: 1;
    }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Kelvin Tran</h1>
        <p>
        <img src="https://raw.githubusercontent.com/kelvin-tran/kelvin-tran.github.io/master/static/profile.jpg" style="width:140px;height:140px;border-radius: 10px;">
        </p>
        <p>I am a lawyer, but I do other things</p>
        <p class="view"><a href="http://github.com/kelvin-tran">GitHub</a> | <a href="http://twitter.com/_kelvintran">Twitter</a> | <a href="https://au.linkedin.com/in/kelvintran">LinkedIn</a></p>
        <div>
					<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
          <!-- Kelvin Tran GitHub pages index -->
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-8039812474190322"
               data-ad-slot="3954668498"
               data-ad-format="auto"></ins>
          <script>
          	(adsbygoogle = window.adsbygoogle || []).push({});
        	</script>
        </div>
      </header>
      <section>
        <h3><a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Australian electoral division maps</h3>
        <div id="map"></div>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/kelvin-tran">kelvin-tran</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="http://d3js.org/d3.geo.projection.v0.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
    <script>
      var width = 648,
          height = 621;
      
      var graticule = d3.geo.graticule()
          .step([10, 10]);
      
      var projection = d3.geo.satellite()
          .scale(2000)
          .distance(1.5)
          .rotate([-149.00, 34.5, 25])
          //.center([-2, 5])
          .tilt(45)
          .clipAngle(Math.acos(1 / 1.1) * 180 / Math.PI - 1e-6);
      
      var path = d3.geo.path()
          .projection(projection);
      
      var svg = d3.select("#map").append("svg")
          .attr("width", width)
          .attr("height", height);
      
      svg.append("path")
          .datum(graticule)
          .attr("class", "graticule")
          .attr("d", path);
      
      d3.json("https://raw.githubusercontent.com/kelvin-tran/electoral-maps/master/world-50m.json", function(world) {
        svg.insert("path", ".graticule")
            .datum(topojson.feature(world, world.objects.land))
            .attr("class", "land-boundary")
            .attr("d", path);
      });
      
      d3.json("https://raw.githubusercontent.com/kelvin-tran/electoral-maps/master/t_aus_bound.json", function(aus) {
        svg.insert("path", ".graticule")
            .datum(topojson.mesh(aus, aus.objects.aus_bound, function(a, b) { return a === b; }))
            .attr("class", "land-boundary")
            .attr("d", path);
      });
      
      d3.json("https://raw.githubusercontent.com/kelvin-tran/electoral-maps/master/t_aus_bound.json", function(aus) {
        svg.insert("path", ".graticule")
            .datum(topojson.mesh(aus, aus.objects.aus_bound, function(a, b) { return a !== b; }))
            .attr("class", "div-boundary")
            .attr("d", path);
      });
      
      d3.select(self.frameElement).style("height", height + "px");
    </script>
  </body>




